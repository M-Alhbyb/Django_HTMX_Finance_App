{% load widget_tweaks %} 

<div
  class="flex flex-col-reverse md:grid md:grid-cols-4 md:gap-4"
  id="charts-container"
>
  <div class="col-span-3 mt-4">
    {{ income_expense_barchart|safe  }}
    <div class="md:grid md:grid-cols-2">
      {{ category_income_pie|safe }}
      {{ category_expense_pie|safe }}
    </div>
  </div>

  <div class="col-span-1">
    <form
      hx-get="{% url 'transactions-charts' %}"
      hx-target="#charts-container"
      hx-swap="outerHTML"
      hx-indicator="#spinner"
      id="filterform"
      
    >
    
      <!-- Type choosing label -->
      <div class="form-control">
        {{ filter.form.transaction_type|add_label_class:"label text-white mb-4"}}
      </div>
      <!-- Type choosing field -->
      <div class="mb-4 form-control">
        {% render_field filter.form.transaction_type class="select select-success bg-gray-50 text-gray-900 px-6 w-full" %}
      </div>
      <!-- Start Date Label -->
      <div class="form-control">
        {{ filter.form.start_date|add_label_class:"label text-white mb-4" }}
      </div>
      <!-- Start Date Field -->
      <div class="mb-4 form-control">
        {% render_field filter.form.start_date class="input select-success bg-gray-50 text-gray-900 px-6 w-full" %}
      </div>
      <!-- End Date Label -->
      <div class="form-control">
        {{ filter.form.end_date|add_label_class:"label text-white mb-4" }}
      </div>
      <!-- End Date Field -->
      <div class="mb-4 form-control">
        {% render_field filter.form.end_date class="input select-success bg-gray-50 text-gray-900 px-6 w-full" %}
      </div>
      <!-- Category choosing label -->
      <div class="form-control">
          {{ filter.form.category|add_label_class:"label text-white mb-4" }}
        </div>
      <!-- Category choosing field -->
      <div class="mb-4 form-control grid grid-cols-2 gap-2 " id="test">
        {% for category in filter.form.category %}
          <div class="btn w-full text-left px-2" style="justify-content: start;">
            {{ category  }}
          </div>
        {% endfor %}
      </div>
      <button class="btn btn-success px-6 w-full" style="background-color: #00d390">
        Filter
      </button>

    <span id="spinner" class="loading loading-spinner loading-xl htmx-indicator"></span>
    </form>
  </div>
</div>

